<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        window.onload = function () {
            let arr = [];
            while (arr.length < 1000000) {
                arr.push(Math.floor(Math.random() * 1000000));
            }

            //1.希尔排序
            //1.1 选定起始下标 h = arr.length/2
            //1.2 执行分组插入排序（交换位置）
            //1.3 递减起始下标 h = h/2
            function shellSort(param) {
                console.time('shellSort');
                let h = 1;
                while (h < Math.floor(param.length / 2)) {
                    h = 2 * h + 1;
                }

                while (h >= 1) {
                    for (let i = h; i < param.length; i++) {
                        for (let j = i; j >= h; j -= h) {
                            if (param[j] < param[j - h]) {
                                param[j] = param[j] ^ param[j - h]
                                param[j - h] = param[j] ^ param[j - h]
                                param[j] = param[j] ^ param[j - h]
                            } else {
                                break;
                            }
                        }

                    }
                    h = Math.floor(h / 2)
                }
                console.timeEnd('shellSort');
                return param;

            }

            console.log(shellSort(arr.slice(0)));

        }
    </script>
</body>

</html>